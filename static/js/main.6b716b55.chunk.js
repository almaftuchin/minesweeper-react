(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(18)},16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),i=a.n(o),l=(a(16),a(2)),c=a(3),s=a(5),u=a(4),d=a(6),m=a(1),v=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getValue",value:function(){var e=this.props.cell,t=e.revealed,a=e.flagged,n=e.mine,r=e.val;return t?n?"\ud83d\udca3":r||null:a?"\ud83d\udea9":null}},{key:"render",value:function(){var e=this.props,t=e.cell,a=e.onClick,n=e.onContextMenu,o="cell"+(t.revealed?" revealed":"")+(t.revealed&&t.val?[" one"," two"," three"," four"," five"," six"," seven"," eight"][t.val-1]:"")+(t.boom?" boom":"");return r.a.createElement("div",{onClick:a,className:o,onContextMenu:n},this.getValue())}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).newGame=function(){a.progress=0,a.setState({board:a.initBoard(),status:"Good luck!",started:0})},a.initBoard=function(){for(var e=[],t=0;t<a.size;t++)e=[].concat(Object(m.a)(e),[{mine:0,revealed:0,flagged:0,val:0,boom:0}]);return e},a.addMines=function(e,t){for(var n=0,r=[],o=a.mines,i=a.width,l=function(){var o=a.randomNumber(),l=[-(i+1),-i,-(i-1),-1,0,1,i-1,i,i+1].map(function(e){return o+e});e[o].mine||l.includes(t)||(e[o].mine=1,r=[].concat(Object(m.a)(r),[o]),n++)};n<o;)l();return[e,r]},a.addNeighbor=function(e,t){var n=a.size,r=a.width;return t.forEach(function(t){t>=r&&(t-r-1>=0&&(t-r-1)%r!==r-1&&!e[t-r-1].mine&&e[t-r-1].val++,e[t-r].mine||e[t-r].val++,(t-r+1)%r===0||e[t-r+1].mine||e[t-r+1].val++),t<n-r&&((t+r-1)%r===r-1||e[t+r-1].mine||e[t+r-1].val++,e[t+r].mine||e[t+r].val++,(t+r+1)%r===0||e[t+r+1].mine||e[t+r+1].val++),t-1>=0&&(t-1)%r!==r-1&&!e[t-1].mine&&e[t-1].val++,t+1<n&&(t+1)%r!==0&&!e[t+1].mine&&e[t+1].val++}),e},a.randomNumber=function(){return Math.floor(Math.random()*a.size)},a.boom=function(e){var t=Object(m.a)(a.state.board);t[e].boom=1,t.forEach(function(e){e.revealed=1}),a.setState({board:t,status:"\ud83d\ude22 You lost \ud83d\ude22"})},a.handleClick=function(e,t){a.state.started?a.reveal(e,t):a.setState({started:1,board:a.fillBoard(e)},function(){a.reveal(e,t)})},a.reveal=function(e,t){var n=t.mine,r=t.revealed,o=t.flagged,i=t.val;if(!r&&!o){if(n)return a.boom(e);if(0===i)a.floodFill(e);else{var l=Object(m.a)(a.state.board);if(a.progress++,l[e].revealed=1,a.progress===a.size-a.mines)return l.forEach(function(e){e.revealed=1}),a.setState({board:l,status:"\ud83c\udf89 YOU WON \ud83c\udf89"});a.setState({board:l})}}},a.floodFill=function(e){var t=Object(m.a)(a.state.board);if(!t[e].mine&&!t[e].revealed){t[e].revealed=1,a.progress++,a.setState({board:t});var n=a.width,r=a.size;e>=n&&(e-n-1>=0&&(e-n-1)%n!==n-1&&a.reveal(e-n-1,t[e-n-1]),a.reveal(e-n,t[e-n]),(e-n+1)%n!==0&&a.reveal(e-n+1,t[e-n+1])),e<r-n&&((e+n-1)%n!==n-1&&a.reveal(e+n-1,t[e+n-1]),a.reveal(e+n,t[e+n]),(e+n+1)%n!==0&&a.reveal(e+n+1,t[e+n+1])),e-1>=0&&(e-1)%n!==n-1&&a.reveal(e-1,t[e-1]),e+1<r&&(e+1)%n!==0&&a.reveal(e+1,t[e+1])}},a.rightClick=function(e,t,n){if(n.preventDefault(),!a.state.started)return a.handleClick(e,t,n);if(!a.state.board[e].revealed){var r=Object(m.a)(a.state.board);r[e].flagged=!r[e].flagged,a.setState({board:r})}},a.renderBoard=function(){return a.state.board.map(function(e,t){return r.a.createElement(v,{key:t,onClick:function(){return a.handleClick(t,e)},onContextMenu:function(n){return a.rightClick(t,e,n)},cell:e})})},a.progress=0,a.height=e.height,a.width=e.width,a.mines=e.mines,a.size=e.height*e.width,a.state={board:a.initBoard(),status:"Good luck!",started:0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"fillBoard",value:function(e){var t=this.initBoard();return t=this.addNeighbor.apply(this,Object(m.a)(this.addMines(t,e)))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"game-header"},this.state.status,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-success",onClick:this.newGame},"New Game"),r.a.createElement("br",null)),this.renderBoard())}}]),t}(n.Component),h=(a(17),a(9)),b=a.n(h),g=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"game"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:b.a,className:"App-logo",alt:"logo"}),r.a.createElement("span",null,"MineSweeper")),r.a.createElement(f,{height:8,width:8,mines:10}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a.p+"static/media/logo.f5c252a1.png"}},[[10,1,2]]]);
//# sourceMappingURL=main.6b716b55.chunk.js.map